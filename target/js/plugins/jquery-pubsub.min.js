define(["jquery","./jquery-bindable.min"],function(){function a(){if(!(this instanceof a))return new a;this.hub=$.bindable({});this.channels={}}a.prototype={subscribe:function(b,a){this.channels[b]&&this.channels[b].done(a);this.hub.bind(b,a);return this},publish:function(){var a=APS.apply(arguments),c=a.slice(0,1)[0],a=a.slice(1);this.channels[c]=$.Deferred().resolveWith(window,a).promise();this.hub.trigger.apply(this.hub,arguments);return this},unsubscribe:function(a){a&&delete this.channels[a];
this.hub.off.apply(this.hub,arguments)}};a.prototype.on=a.prototype.subscribe;a.prototype.off=a.prototype.unsubscribe;a.prototype.trigger=a.prototype.publish;$.Pubsub=$.Pubsub||a});